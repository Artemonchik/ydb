### Test covarage
https://datalens.yandex.cloud/preview/editor/0x4g3gh3h01cm-full-test-list-owner?_embedded=1

### CRITS
https://github.com/orgs/ydb-platform/projects/43/views/3?sortedBy%5Bdirection%5D=asc&sortedBy%5BcolumnId%5D=Status



## Запись данных bulk\_upsert
TEST: https://datalens.yandex.cloud/preview/editor/0x4g3gh3h01cm-full-test-list-owner?_embedded=1&full_name=__CONTAINS_bulk

### Запись с использованием различных транспортов

|Транспорт|Типы данных: Int32|Типы данных: Int64|Типы данных: Uint32|Типы данных: Uint64|Типы данных: String|Типы данных: Bool|Типы данных: Double|Типы данных: Float|Типы данных: Timestamp|Типы данных: Datetime|Типы данных: Date|Типы данных: Text|
|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|
|arrow|||||||||||||
|BoxedValue|||||||||||||

### Последние значения данных видны после записи

|Результат|
|:---|
||

### Обработка идентичных ключей в одной пачке

|Результат|
|:---|
||

### Запись через JDBC и Python DBApi


|Поддержка|Результат|
|:---|:---|
|JDBC||
|YDB CLI|
|DBApi|

### При загрузке блока данных с 50% пересечением
 В БД уже есть 1млрд записей, с помощью bulk_upsert загружается блок данных на 50% пересекающийся с существующим, а на 50% новый. После исполнения видны 1.5млрд записей
|Результат|
|:---|
||

## Проверка целостности данных


|с нарушением целостности данных. , 100 строк, в одну из них в UINT поле пишем -1, никакие данные из bulk_upsert не применены|
|:---|
||

## Параллельное исполнение без ошибок

|Количество паралелльных тредов|Результат|
|:---|:---|
|10 тредов в 1 таблицу||
|100||

## Скорость записи по сравнению с INSERT INTO для 100k строк

|Результат|
|:---|
||

## Ошибка пользователю при остановке кластера

|Результат|
|:---|
||

##  ALTER TABLE ADD COLUMN


|Результат|
|:---|
||

## Метрики видны в UI

|Результат|
|:---|
||

## Запись данных INSERT INTO/UPSERT/REPLACE
TEST: https://datalens.yandex.cloud/preview/editor/0x4g3gh3h01cm-full-test-list-owner?_embedded=1&full_name=__CONTAINS_bulk

|Функция|Малый пакет (10 строк)|Средний пакет (1к строк)|Большой пакет (1М строк)|
|:---|:---|:---|:---|
|Поддержка типов данных: Int32, Int64, Uint32, Uint64, String, Bool, Double, Float, Timestamp, Datetime, Date, Text||||
|Возврат ошибки, если данные существуют & INSERT INTO||||
|Замена данных при использовании UPSERT||||
|Возможность вставки пакета 1М строк||||
|Предыдущее данные после отката транзакции для UPSERT||||
|Параллельная вставка в нескольких потоках||||

## Агрегатные функции и сложные аналитические запросы
|Тип функции/запроса|1GB данных|10GB данных|100GB данных|1TB данных|10TB данных|
|:---|:---|:---|:---|:---|:---|
|COUNT()||||||
|COUNT(DISTINCT)|||https://github.com/ydb-platform/ydb/issues/14493|||
|SUM()||||||
|AVG()||||||
|MIN()/MAX()||||||
|TPC-H ||||||
|ClickBench ||||||
|TPC-DS | || |||
## Чтение данных

|Тип операции|1k rows|100k rows|1kk rows|
|:---|:---|:---|:---|
|Обычная операция чтения||||
|Случайный доступ||| |

## Pushdown предикатов


|Тип предиката|Векторные операции|Невекторные операции|
|:---|:---|:---|
|Арифметические и логические операции|||
|Строковые операции|||

## Удаление по TTL


|Настройка TTL|До истечения|На истечение|После истечения|
|:---|:---|:---|:---|
|Валидный TTL для Timestamp||||
|Невалидный TTL||||

### Порядок удаления
Данные удаляются, начиная со самых старых записей

### 
|Настройка TTL|Datetime|TimeStamp|Date|
|:---|:---|:---|:---|
|Валидный TTL для Timestamp||||
|Невалидный TTL||||

## Удаление по команде


|Тип удаления|Время операции|Воздействие|
|:---|:---|:---|
|Удаление по ID строки|Быстро|Немедленно|
|Удаление по диапазону ключей|Умеренно|Немедленно|
|Удаление с подзапросом IN|Вариативно|С задержкой|

## Нефункциональные


|Аспект|100k rows|
|:---|:---|
|Скорость bulk\_upsert||
|Скорость insert||
|Скорость удаления|| 


#### Восстановление при полном заполнении диска


|Результат|
|:---|
||

## Документация



